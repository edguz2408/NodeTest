arset=utf-8" http-equiv="Content-Type">   <meta content="utf-8" http-equiv="encoding">   <head>     <title>eBay Search Results</title>     <style type="text/css">body { font-family: arial,sans-serif;} </style>   </head> <body>   <h1>eBay Search Results</h1>   <div id="content">     <input id="inputSearch" type="text" placeholder="Search on eBay" />     <input id="inputBtnSearch" type="button" value="Search" />   </div> </body> <div id="results"></did> <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js" /> <script>   document.getElementById("content").innerHTML = "Hello JavaScript!";  </script> <script>    function ebay() {       var searchVal = $('#inputSearch').val();      console.log(searchVal);       var url = "http://svcs.ebay.com/services/search/FindingService/v1";      url += "?OPERATION-NAME=findItemsByKeywords";      url += "&SERVICE-VERSION=1.0.0";      url += "&SECURITY-APPNAME=EdGuzSof-a355-4c61-a5f3-f007ee44a00c";      url += "&GLOBAL-ID=EBAY-US";      url += "&RESPONSE-DATA-FORMAT=JSON";      //url += "&callback=_cb_findItemsByKeywords";      url += "&callback=customSearch";      url += "&REST-PAYLOAD";      url += "&keywords=" + searchVal;      url += "&paginationInput.entriesPerPage=10";     /*$(document).ready(function() {       console.log('ready!');       $('#inputBtnSearch').on('click', search);     });*/      //document.write("<a href=\"" + url + "\">" + url + "</a>");        // Submit the request     console.log('end!');     s=document.createElement('script'); // create script element     s.src= url += urlfilter;     document.body.appendChild(s);   }    function customSearch(root){     var items = root.findItemsByKeywordsResponse[0].searchResult[0].item || [];     var tableContent = '<table id="table"><tbody></tbody></table>';     $('body').append(tableContent);      $.each(items, function (i, item) {       tableContent += '<tr>';       tableContent += '<td><img src="' + item.galleryURL + '" border="0">' + '</td>';       tableContent += '<td><a href="'+ item.viewItemURL + ' target="blank"">'+ item.title + '</a></td>';       //tableContent += '<td>'+ item.sellingStatus[0].currentPrice[0].&#64currencyId + item.sellingStatus[0].currentPrice[0].__value__ +'</td>';       tableContent += '</tr>';       console.log(item.sellingStatus[0].currentPrice[0]);     });      $('#table').html(tableContent);   }    function _cb_findItemsByKeywords(root) {     var items = root.findItemsByKeywordsResponse[0].searchResult[0].item || [];     var html = [];     html.push('<table width="100%" border="0" cellspacing="0" cellpadding="3"><tbody>');     for (var i = 0; i < items.length; ++i) {       var item     = items[i];       var title    = item.title;       var pic      = item.galleryURL;       var viewitem = item.viewItemURL;       if (null != title && null != viewitem) {         html.push('<tr><td>' + '<img src="' + pic + '" border="0">' + '</td>' +         '<td><a href="' + viewitem + '" target="_blank">' + title + '</a></td></tr>');       }     }     html.push('</tbody></table>');     document.getElementById("results").innerHTML = html.join("");     console.log('got here!');    }  // End _cb_findItemsByKeywords() function    var urlfilter = "";   var filterarray = [   {"name":"MaxPrice",    "value":"25",    "paramName":"Currency",    "paramValue":"USD"},   {"name":"FreeShippingOnly",    "value":"true",    "paramName":"",    "paramValue":""},   {"name":"ListingType",    "value":["AuctionWithBIN", "FixedPrice"],    "paramName":"",    "paramValue":""},   ];    // Generates an indexed URL snippet from the array of item filters function  buildURLArray() {   // Iterate through each filter in the array   for(var i=0; i<filterarray.length; i++) {     //Index each item filter in filterarray     var itemfilter = filterarray[i];     // Iterate through each parameter in each item filter     for(var index in itemfilter) {       // Check to see if the paramter has a value (some don't)       if (itemfilter[index] !== "") {         if (itemfilter[index] instanceof Array) {           for(var r=0; r<itemfilter[index].length; r++) {           var value = itemfilter[index][r];           urlfilter += "&itemFilter\(" + i + "\)." + index + "\(" + r + "\)=" + value ;           }         }         else {           urlfilter += "&itemFilter\(" + i + "\)." + index + "=" + itemfilter[index];         }       }     }   } }  // End buildURLArray() function  buildURLArray(filterarray);  $(document).ready(function () {   $('#inputBtnSearch').on('click', ebay); });    function search(){     ebay();   }   </script> </html>
